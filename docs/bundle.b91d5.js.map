{"version":3,"sources":["webpack:///bundle.b91d5.js","webpack:///webpack/bootstrap 72f47383b0fe7452f7c2","webpack:///./components/store/style.css","webpack:///./components/common/subscribe.jsx","webpack:///./services/observable/observable.js","webpack:///./services/buildings/structure.js","webpack:///./services/buildings/buildings.js","webpack:///./services/game/util.js","webpack:///./services/game/game.js","webpack:///./services/observable/events.js","webpack:///./services/database/db.js","webpack:///./services/index.js","webpack:///./components/common/subscribe-to.jsx","webpack:///./components/header/index.jsx","webpack:///./components/cookie/index.jsx","webpack:///./components/store/index.jsx","webpack:///./components/app.jsx","webpack:///./index.js","webpack:///../node_modules/preact/dist/preact.min.js","webpack:///./components/cookie/style.css","webpack:///../node_modules/idb/lib/idb.js","webpack:///../node_modules/preact-cli/lib/lib/entry.js","webpack:///./components/header/style.css"],"names":["modules","__webpack_require__","moduleId","installedModules","exports","module","i","l","call","m","c","d","name","getter","o","Object","defineProperty","configurable","enumerable","get","n","__esModule","object","property","prototype","hasOwnProperty","p","s","JCeB","store","blocked","active","JkW7","__webpack_exports__","_possibleConstructorReturn","self","ReferenceError","_inherits","subClass","superClass","TypeError","create","constructor","value","writable","setPrototypeOf","__proto__","observable__classCallCheck","instance","Constructor","structure__classCallCheck","buildings__classCallCheck","buildings__possibleConstructorReturn","buildings__inherits","game__classCallCheck","db__classCallCheck","header__classCallCheck","app__classCallCheck","preact_min","preact_min_default","subscribe_Subscribe","_Component","Subscribe","props","_this","this","onAppStateChange","subData","setState","state","observable","from","componentDidMount","event","to","addObserver","componentWillUnmount","removeObserver","render","_ref","_ref2","children","length","map","child","a","cloneElement","sub","subscribe","idb","idb_default","ObservableService","observers","eventType","observer","callback","concat","filter","current","emitEvent","data","eventObs","forEach","emitEvents","events","type","Structure","baseCost","_ref$owned","owned","undefined","refreshRate","incrQuantity","affordable","cookiesPerSecond","price","getPrice","quantity","arguments","Math","ceil","pow","Error","calculateCookiesPerSecond","cps","floor","checkIfAffordable","cookies","buy","_checkIfAffordable","Cursor","_Structure","Grandma","_Structure2","Farm","_Structure3","Mine","_Structure4","Factory","_Structure5","buildings","_extends","assign","target","source","key","util_getInitialState","Structures","cookiesQuantity","cookiesDisplay","cookiesPerClick","keys","util_transformDbState","dbBuilding","CurrentStructure","console","log","game_GameService","GameService","dbService","saveInterval","startGame","autoSave","seconds","setInterval","write","resetGame","clear","building","reduce","acc","curr","_this2","timestamp","window","performance","now","Date","getTime","delta","last","frame","update","requestAnimationFrame","_this3","secondsPassed","buyBuilding","find","requestRefresh","click","DbService","driver","stores","dbPromise","createDatabase","open","db","objectStoreNames","contains","createObjectStore","keyPath","then","transaction","objectStore","put","complete","readAll","getAll","app","subscribe_to_SubscribeToState","header_style","header_style_default","header_Header","Header","resetHandler","class","header","onClick","cookie_style","cookie_style_default","cookie_clickHandler","cookie_Cookie","cookie","store_style","store_style_default","store_Store","app__ref","id","App","KM04","e","t","r","E","W","push","pop","u","nodeName","attributes","S","vnode","slice","__d","A","debounceRendering","P","k","splitText","_componentConstructor","__n","toLowerCase","defaultProps","_","document","createElementNS","createElement","parentNode","removeChild","style","cssText","V","test","innerHTML","__html","replace","substring","addEventListener","f","removeEventListener","__l","removeAttribute","removeAttributeNS","setAttributeNS","setAttribute","className","D","afterMount","h","H","R","ownerSVGElement","j","appendChild","_component","nodeValue","createTextNode","replaceChild","b","__preactattr_","U","firstChild","nextSibling","v","dangerouslySetInnerHTML","g","childNodes","y","w","C","x","N","__k","trim","insertBefore","L","ref","lastChild","previousSibling","I","T","__b","splice","__x","__r","base","componentWillMount","componentWillReceiveProps","context","__c","__p","syncComponentUpdates","__s","shouldComponentUpdate","componentWillUpdate","getChildContext","M","__u","unshift","componentDidUpdate","afterUpdate","__h","beforeUnmount","Promise","resolve","bind","setTimeout","forceUpdate","$","Component","rerender","options","e5AH","enoJ","toArray","arr","Array","promisifyRequest","request","reject","onsuccess","result","onerror","error","promisifyRequestCall","obj","method","args","apply","promisifyCursorRequestCall","proxyProperties","ProxyClass","targetProp","properties","prop","set","val","proxyRequestMethods","proxyMethods","proxyCursorRequestMethods","Index","index","_index","cursor","_cursor","_request","ObjectStore","_store","Transaction","idbTransaction","_tx","oncomplete","onabort","UpgradeDB","oldVersion","_db","DB","IDBIndex","IDBCursor","methodName","createIndex","IDBObjectStore","IDBTransaction","IDBDatabase","funcName","nativeObject","query","count","items","iterateCursor","continue","exp","version","upgradeCallback","indexedDB","onupgradeneeded","delete","default","pwNi","_preact","navigator","location","protocol","serviceWorker","register","interopDefault","root","body","firstElementChild","init","rq4c","u3et"],"mappings":"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","file":"bundle.b91d5.js","sourcesContent":["/******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"/\";\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"JCeB\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"store\":\"store__2YQhv\",\"blocked\":\"blocked__bFsa8\",\"active\":\"active__2rerf\"};\n\n/***/ }),\n\n/***/ \"JkW7\":\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n// EXTERNAL MODULE: ./style/index.css\nvar style = __webpack_require__(\"rq4c\");\nvar style_default = /*#__PURE__*/__webpack_require__.n(style);\n\n// EXTERNAL MODULE: ../node_modules/preact/dist/preact.min.js\nvar preact_min = __webpack_require__(\"KM04\");\nvar preact_min_default = /*#__PURE__*/__webpack_require__.n(preact_min);\n\n// CONCATENATED MODULE: ./components/common/subscribe.jsx\n\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\n// Subscribe is a higher order component that will inject some data to it's children whenever a specific event occurs\n// Could be used to listen to any event, not necessarily to one that involves global app state\n\n// You can subscribe to events by `to` prop from any obseravable passed to 'from' prop\n// Data published from observable is accesible in children by `props.sub`\n\nvar subscribe_Subscribe = function (_Component) {\n\t_inherits(Subscribe, _Component);\n\n\tfunction Subscribe(props) {\n\t\t_classCallCheck(this, Subscribe);\n\n\t\tvar _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n\t\t_this.onAppStateChange = function (subData) {\n\t\t\treturn _this.setState({ subData: subData });\n\t\t};\n\n\t\t_this.state = {};\n\t\t_this.observable = props.from;\n\t\treturn _this;\n\t}\n\n\tSubscribe.prototype.componentDidMount = function componentDidMount() {\n\t\tvar event = this.props.to;\n\n\t\tif (event) {\n\t\t\tthis.observable.addObserver(event, this, this.onAppStateChange);\n\t\t}\n\t};\n\n\tSubscribe.prototype.componentWillUnmount = function componentWillUnmount() {\n\t\tvar event = this.props.to;\n\n\t\tif (event) {\n\t\t\tthis.observable.removeObserver(event, this);\n\t\t}\n\t};\n\n\tSubscribe.prototype.render = function render(_ref, _ref2) {\n\t\tvar children = _ref.children;\n\t\tvar subData = _ref2.subData;\n\n\t\tif (children.length > 1) {\n\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t'div',\n\t\t\t\tnull,\n\t\t\t\tchildren.map(function (child) {\n\t\t\t\t\treturn preact_min_default.a.cloneElement(child, { sub: subData });\n\t\t\t\t})\n\t\t\t);\n\t\t}\n\n\t\treturn preact_min_default.a.cloneElement(children[0], { sub: subData });\n\t};\n\n\treturn Subscribe;\n}(preact_min[\"Component\"]);\n\n/* harmony default export */ var subscribe = (subscribe_Subscribe);\n// EXTERNAL MODULE: ../node_modules/idb/lib/idb.js\nvar idb = __webpack_require__(\"enoJ\");\nvar idb_default = /*#__PURE__*/__webpack_require__.n(idb);\n\n// CONCATENATED MODULE: ./services/observable/observable.js\nfunction observable__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// ObservableService is a class that implements observer pattern\n// it will run callbacks registered to specific events upon calling `emitEvent`.\n// Do not use it directly when dealing with global app state. Use `GameService`s methods instead.\n// It could be helpful with other actions though.\nvar ObservableService = function () {\n\tfunction ObservableService() {\n\t\tobservable__classCallCheck(this, ObservableService);\n\n\t\tthis.observers = {};\n\t}\n\n\tObservableService.prototype.addObserver = function addObserver(eventType, observer, callback) {\n\t\tthis.observers[eventType] = this.observers[eventType] ? [].concat(this.observers[eventType], [{ observer: observer, callback: callback }]) : [{ observer: observer, callback: callback }];\n\t};\n\n\tObservableService.prototype.removeObserver = function removeObserver(eventType, observer) {\n\t\tthis.observers[eventType] = this.observers[eventType].filter(function (current) {\n\t\t\treturn current.observer !== observer;\n\t\t});\n\t};\n\n\tObservableService.prototype.emitEvent = function emitEvent(eventType, data) {\n\t\tvar eventObs = this.observers[eventType];\n\t\tif (!eventObs || eventObs.length < 0) {\n\t\t\treturn;\n\t\t}\n\t\teventObs.forEach(function (current) {\n\t\t\treturn current.callback(data);\n\t\t});\n\t};\n\n\tObservableService.prototype.emitEvents = function emitEvents(events) {\n\t\tvar _this = this;\n\n\t\tevents.forEach(function (_ref) {\n\t\t\tvar type = _ref.type,\n\t\t\t    data = _ref.data;\n\t\t\treturn _this.emitEvent(type, data);\n\t\t});\n\t};\n\n\treturn ObservableService;\n}();\n\n\n// CONCATENATED MODULE: ./services/buildings/structure.js\nfunction structure__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Structure = function () {\n\tfunction Structure(_ref) {\n\t\tvar baseCost = _ref.baseCost,\n\t\t    _ref$owned = _ref.owned,\n\t\t    owned = _ref$owned === undefined ? 0 : _ref$owned,\n\t\t    name = _ref.name,\n\t\t    refreshRate = _ref.refreshRate,\n\t\t    incrQuantity = _ref.incrQuantity;\n\n\t\tstructure__classCallCheck(this, Structure);\n\n\t\tthis.baseCost = baseCost;\n\t\tthis.owned = owned;\n\t\tthis.name = name;\n\t\tthis.refreshRate = refreshRate ? refreshRate : 1;\n\t\tthis.incrQuantity = incrQuantity;\n\n\t\tthis.affordable = false;\n\t\tthis.cookiesPerSecond = 0;\n\t\tthis.price = this.getPrice(1);\n\t}\n\n\tStructure.prototype.getPrice = function getPrice() {\n\t\tvar quantity = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 1;\n\n\t\t// magic numbers and formulas acquired from:\n\t\t// http://cookieclicker.wikia.com/wiki/Buildings\n\t\tvar powBase = 1.15;\n\t\tvar denominator = 0.15;\n\n\t\tif (quantity >= 1) {\n\t\t\treturn Math.ceil(this.baseCost * (Math.pow(powBase, quantity + this.owned) - Math.pow(powBase, this.owned)) / denominator);\n\t\t}\n\n\t\tthrow new Error('quantity can\\'t be lower than 1');\n\t};\n\n\tStructure.prototype.calculateCookiesPerSecond = function calculateCookiesPerSecond() {\n\t\tvar cps = Math.floor(10 * (this.owned * this.refreshRate * this.incrQuantity)) / 10;\n\t\tthis.cookiesPerSecond = cps;\n\t\treturn cps;\n\t};\n\n\tStructure.prototype.checkIfAffordable = function checkIfAffordable(cookies) {\n\t\tvar quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\tvar price = this.getPrice(quantity);\n\t\tthis.affordable = cookies >= price;\n\n\t\treturn [this.affordable, price];\n\t};\n\n\tStructure.prototype.buy = function buy(cookies) {\n\t\tvar quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\tvar _checkIfAffordable = this.checkIfAffordable(cookies, quantity),\n\t\t    affordable = _checkIfAffordable[0],\n\t\t    price = _checkIfAffordable[1];\n\n\t\t// buy structure\n\n\n\t\tif (affordable) {\n\t\t\tthis.owned += quantity;\n\n\t\t\t// calculate next price of structure\n\t\t\tthis.price = this.getPrice();\n\n\t\t\t// return current price\n\t\t\treturn price;\n\t\t}\n\n\t\t// structure can't be bought\n\t\treturn false;\n\t};\n\n\treturn Structure;\n}();\n\n\n// CONCATENATED MODULE: ./services/buildings/buildings.js\nfunction buildings__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction buildings__possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction buildings__inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n\n\nvar Cursor = function (_Structure) {\n\tbuildings__inherits(Cursor, _Structure);\n\n\tfunction Cursor(owned) {\n\t\tbuildings__classCallCheck(this, Cursor);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 15,\n\t\t\tname: 'Cursor',\n\t\t\trefreshRate: 0.1,\n\t\t\tincrQuantity: 1\n\t\t}));\n\t}\n\n\treturn Cursor;\n}(Structure);\n\nvar Grandma = function (_Structure2) {\n\tbuildings__inherits(Grandma, _Structure2);\n\n\tfunction Grandma(owned) {\n\t\tbuildings__classCallCheck(this, Grandma);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure2.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 100,\n\t\t\tname: 'Grandma',\n\t\t\tincrQuantity: 1\n\t\t}));\n\t}\n\n\treturn Grandma;\n}(Structure);\n\nvar Farm = function (_Structure3) {\n\tbuildings__inherits(Farm, _Structure3);\n\n\tfunction Farm(owned) {\n\t\tbuildings__classCallCheck(this, Farm);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure3.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 1100,\n\t\t\tname: 'Farm',\n\t\t\tincrQuantity: 8\n\t\t}));\n\t}\n\n\treturn Farm;\n}(Structure);\n\nvar Mine = function (_Structure4) {\n\tbuildings__inherits(Mine, _Structure4);\n\n\tfunction Mine(owned) {\n\t\tbuildings__classCallCheck(this, Mine);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure4.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 12000,\n\t\t\tname: 'Mine',\n\t\t\tincrQuantity: 47\n\t\t}));\n\t}\n\n\treturn Mine;\n}(Structure);\n\nvar Factory = function (_Structure5) {\n\tbuildings__inherits(Factory, _Structure5);\n\n\tfunction Factory(owned) {\n\t\tbuildings__classCallCheck(this, Factory);\n\n\t\treturn buildings__possibleConstructorReturn(this, _Structure5.call(this, {\n\t\t\towned: owned,\n\t\t\tbaseCost: 130000,\n\t\t\tname: 'Factory',\n\t\t\tincrQuantity: 260\n\t\t}));\n\t}\n\n\treturn Factory;\n}(Structure);\n\n/* harmony default export */ var buildings = ({ Cursor: Cursor, Grandma: Grandma, Farm: Farm, Mine: Mine, Factory: Factory });\n// CONCATENATED MODULE: ./services/game/util.js\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\n\n\nvar util_getInitialState = function getInitialState() {\n\tvar Structures = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : buildings;\n\treturn {\n\t\tname: 'Bakery',\n\t\tcookiesQuantity: 0,\n\t\tcookiesDisplay: 0,\n\t\tcookiesPerClick: 1,\n\t\tbuildings: Object.keys(Structures).map(function (key) {\n\t\t\treturn new Structures[key]();\n\t\t})\n\t};\n};\n\nvar util_transformDbState = function transformDbState(state) {\n\tvar Structures = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : buildings;\n\treturn _extends({}, state, { buildings: state.buildings.map(function (dbBuilding) {\n\t\t\tvar CurrentStructure = Structures[dbBuilding.name];\n\t\t\tconsole.log(CurrentStructure);\n\t\t\tif (CurrentStructure) {\n\t\t\t\treturn _extends(new CurrentStructure(), dbBuilding);\n\t\t\t}\n\t\t}) });\n};\n// CONCATENATED MODULE: ./services/observable/events.js\n// events that could be observed\n\n// get whole app state\nvar APP_STATE_CHANGED = 'app_state_changed';\n// CONCATENATED MODULE: ./services/game/game.js\nfunction game__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n// GameService encapsulates game logic and serves as data store for whole app\n// By using it's methods you are changing global state\n// which is then automatically injected into `sub` prop\n// to all components that are inside SubscribeToState HOC\n\nvar game_GameService = function () {\n\tfunction GameService(_ref) {\n\t\tvar observable = _ref.observable,\n\t\t    state = _ref.state,\n\t\t    stateService = _ref.stateService,\n\t\t    dbService = _ref.dbService,\n\t\t    saveInterval = _ref.saveInterval;\n\n\t\tgame__classCallCheck(this, GameService);\n\n\t\t// dependencies\n\t\tthis.observable = observable;\n\t\tthis.state = state;\n\t\tthis.dbService = dbService;\n\n\t\tconsole.log(state);\n\n\t\t// init\n\t\tthis.calculateCookiesPerSecond();\n\t\tthis.startGame();\n\t\tthis.autoSave(saveInterval);\n\t}\n\n\t// save state to the Db on regular basis\n\n\n\tGameService.prototype.autoSave = function autoSave(seconds) {\n\t\tvar _this = this;\n\n\t\tsetInterval(function () {\n\t\t\treturn _this.dbService.write('state', _this.state);\n\t\t}, seconds * 1000);\n\t};\n\n\t// resetGame removes all saved data from db store and restores initial values\n\n\n\tGameService.prototype.resetGame = function resetGame() {\n\t\tthis.dbService.clear('state');\n\t\tthis.state = util_getInitialState();\n\t\tthis.calculateCookiesPerSecond();\n\t};\n\n\t// get cookies per second from every currently owned building and calculate global CpS.\n\n\n\tGameService.prototype.calculateCookiesPerSecond = function calculateCookiesPerSecond() {\n\t\tthis.state.cookiesPerSecond = this.state.buildings.map(function (building) {\n\t\t\treturn building.calculateCookiesPerSecond();\n\t\t}).reduce(function (acc, curr) {\n\t\t\treturn acc + curr;\n\t\t});\n\t};\n\n\t// start game loop\n\n\n\tGameService.prototype.startGame = function startGame() {\n\t\tvar _this2 = this;\n\n\t\t// `requestAnimationFrame` will stop it's execution after tab is blurred\n\t\t// but thanks to `delta` the right amount of cookies will be calculated\n\t\t// according to seconds passed since last frame\n\t\tvar timestamp = function timestamp() {\n\t\t\treturn window.performance && window.performance.now ? window.performance.now() : new Date().getTime();\n\t\t};\n\t\tvar now = void 0;\n\t\tvar delta = void 0;\n\t\tvar last = timestamp();\n\n\t\tvar frame = function frame() {\n\t\t\tnow = timestamp();\n\t\t\tdelta = (now - last) / 1000;\n\t\t\t_this2.update(delta);\n\t\t\t_this2.render();\n\t\t\tlast = now;\n\n\t\t\trequestAnimationFrame(frame);\n\t\t};\n\n\t\t// start loop\n\t\trequestAnimationFrame(frame);\n\t};\n\n\t// game logic\n\t// runs on every frame and on a request\n\n\n\tGameService.prototype.update = function update() {\n\t\tvar _this3 = this;\n\n\t\tvar secondsPassed = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n\n\t\t// if seconds are passed in then add cookies for passed second\n\t\tif (secondsPassed) {\n\t\t\tthis.state.cookiesQuantity += this.state.cookiesPerSecond * secondsPassed;\n\t\t}\n\n\t\t// show whole cookies\n\t\tthis.state.cookiesDisplay = Math.floor(this.state.cookiesQuantity);\n\n\t\t// get current price of buildings\n\t\t// use whole cookies for calculcation to make it more sane for user\n\t\tthis.state.buildings.forEach(function (building) {\n\t\t\treturn building.checkIfAffordable(_this3.state.cookiesDisplay);\n\t\t});\n\t};\n\n\t// emit events that will instruct Preact to re-render DOM\n\n\n\tGameService.prototype.render = function render() {\n\t\t// inject new state into 'sub' prop of SubscribeToState's HOC children\n\t\tthis.observable.emitEvent(APP_STATE_CHANGED, this.state);\n\t};\n\n\t// if building is affordable then buy it, recalculate CpS and request update\n\n\n\tGameService.prototype.buyBuilding = function buyBuilding(name) {\n\t\tvar quantity = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1;\n\n\t\tvar building = this.state.buildings.find(function (building) {\n\t\t\treturn building.name === name;\n\t\t});\n\t\tvar price = building.buy(this.state.cookiesQuantity, quantity);\n\n\t\tif (price) {\n\t\t\tthis.state.cookiesQuantity = Math.ceil(10 * (this.state.cookiesQuantity - price)) / 10;\n\t\t\tthis.calculateCookiesPerSecond();\n\t\t\tthis.requestRefresh();\n\t\t}\n\t};\n\n\t// click on a cookie\n\n\n\tGameService.prototype.click = function click() {\n\t\tvar num = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.state.cookiesPerClick;\n\n\t\tthis.state.cookiesQuantity += num;\n\t\tthis.requestRefresh();\n\t};\n\n\tGameService.prototype.requestRefresh = function requestRefresh() {\n\t\tthis.update();\n\t\tthis.render();\n\t};\n\n\treturn GameService;\n}();\n\n\n// CONCATENATED MODULE: ./services/database/db.js\nfunction db__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// DbService takes care of DB operations on state\nvar DbService = function () {\n\tfunction DbService(_ref) {\n\t\tvar driver = _ref.driver,\n\t\t    name = _ref.name,\n\t\t    stores = _ref.stores,\n\t\t    version = _ref.version;\n\n\t\tdb__classCallCheck(this, DbService);\n\n\t\tthis.driver = driver;\n\n\t\tif ('indexedDB' in window || \"production\") {\n\t\t\tthis.dbPromise = this.createDatabase(name, stores, version = 1);\n\t\t} else {\n\t\t\t//eslint-disable-next-line\n\t\t\twindow.alert('To save your cookies you need to use newer browser!');\n\t\t}\n\t}\n\n\tDbService.prototype.createDatabase = function createDatabase(name, stores) {\n\t\tvar version = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 1;\n\n\t\treturn this.driver.open(name, version, function (db) {\n\t\t\tstores.forEach(function (_ref2) {\n\t\t\t\tvar store = _ref2.store,\n\t\t\t\t    key = _ref2.key;\n\n\t\t\t\t!db.objectStoreNames.contains(store) && db.createObjectStore(store, { keyPath: key });\n\t\t\t});\n\t\t});\n\t};\n\n\tDbService.prototype.write = function write(store, data) {\n\t\treturn this.dbPromise.then(function (db) {\n\t\t\tvar transaction = db.transaction(store, 'readwrite').objectStore(store).put(data);\n\n\t\t\treturn transaction.complete;\n\t\t});\n\t};\n\n\tDbService.prototype.readAll = function readAll(store) {\n\t\treturn this.dbPromise.then(function (db) {\n\t\t\treturn db.transaction(store, 'readonly').objectStore(store).getAll();\n\t\t});\n\t};\n\n\tDbService.prototype.clear = function clear(store) {\n\t\treturn this.dbPromise.then(function (db) {\n\t\t\tvar transaction = db.transaction(store, 'readwrite').objectStore(store).clear();\n\n\t\t\treturn transaction.complete;\n\t\t});\n\t};\n\n\treturn DbService;\n}();\n\n\n// CONCATENATED MODULE: ./services/index.js\n\n\n\n\n\n\n// inject dependencies and initialize the app\n\nvar app = void 0;\nvar observable = new ObservableService();\n\nvar dbService = new DbService({\n\tdriver: idb_default.a,\n\tname: 'cookie-clicker-db',\n\tstores: [{ store: 'state', key: 'name' }]\n});\n\ndbService.readAll('state').then(function (state) {\n\tconsole.log('loadedState', state);\n\tapp = new game_GameService({\n\t\tobservable: observable,\n\t\tdbService: dbService,\n\t\tsaveInterval: 2,\n\t\tstate: !state || state.length <= 0 ? util_getInitialState() : util_transformDbState(state[0])\n\t});\n});\n// CONCATENATED MODULE: ./components/common/subscribe-to.jsx\n\n\n\n\n\n\n// SubscribeToState is a higher order component that injects global app state into props of it's children\n// It is triggered by APP_STATE_CHANGED event\nvar subscribe_to_SubscribeToState = function SubscribeToState(_ref) {\n\tvar children = _ref.children;\n\treturn Object(preact_min[\"h\"])(\n\t\tsubscribe,\n\t\t{ to: APP_STATE_CHANGED, from: observable },\n\t\tchildren\n\t);\n};\n// EXTERNAL MODULE: ./components/header/style.css\nvar header_style = __webpack_require__(\"u3et\");\nvar header_style_default = /*#__PURE__*/__webpack_require__.n(header_style);\n\n// CONCATENATED MODULE: ./components/header/index.jsx\n\n\nfunction header__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n\n\nvar header_Header = function () {\n\tfunction Header() {\n\t\theader__classCallCheck(this, Header);\n\n\t\tthis.resetHandler = function () {\n\t\t\treturn app.resetGame();\n\t\t};\n\t}\n\n\tHeader.prototype.render = function render(_ref) {\n\t\tvar sub = _ref.sub;\n\n\t\treturn Object(preact_min[\"h\"])(\n\t\t\t'header',\n\t\t\t{ 'class': header_style_default.a.header },\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'h1',\n\t\t\t\tnull,\n\t\t\t\t'Cookies: ',\n\t\t\t\tsub && sub.cookiesDisplay\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'span',\n\t\t\t\tnull,\n\t\t\t\tsub && sub.name\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'span',\n\t\t\t\tnull,\n\t\t\t\t'CpS: ',\n\t\t\t\tsub && sub.cookiesPerSecond\n\t\t\t),\n\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t'button',\n\t\t\t\t{ onClick: this.resetHandler },\n\t\t\t\t'reset'\n\t\t\t)\n\t\t);\n\t};\n\n\treturn Header;\n}();\n\n\n// EXTERNAL MODULE: ./components/cookie/style.css\nvar cookie_style = __webpack_require__(\"e5AH\");\nvar cookie_style_default = /*#__PURE__*/__webpack_require__.n(cookie_style);\n\n// CONCATENATED MODULE: ./components/cookie/index.jsx\n\n\n\n\n\nvar cookie_clickHandler = function clickHandler() {\n\treturn app.click();\n};\n\nvar cookie_Cookie = function Cookie(_ref) {\n\tvar sub = _ref.sub;\n\treturn Object(preact_min[\"h\"])(\n\t\t'button',\n\t\t{ 'class': cookie_style_default.a.cookie, onClick: cookie_clickHandler },\n\t\t'\\uD83C\\uDF6A'\n\t);\n};\n\n/* harmony default export */ var cookie = (cookie_Cookie);\n// EXTERNAL MODULE: ./components/store/style.css\nvar store_style = __webpack_require__(\"JCeB\");\nvar store_style_default = /*#__PURE__*/__webpack_require__.n(store_style);\n\n// CONCATENATED MODULE: ./components/store/index.jsx\n\n\n\n\n\n\nvar store_Store = function Store(_ref) {\n\tvar sub = _ref.sub;\n\treturn Object(preact_min[\"h\"])(\n\t\t'ul',\n\t\t{ 'class': store_style_default.a.store },\n\t\tsub && sub.buildings.map(function (_ref2) {\n\t\t\tvar name = _ref2.name,\n\t\t\t    owned = _ref2.owned,\n\t\t\t    affordable = _ref2.affordable,\n\t\t\t    cookiesPerSecond = _ref2.cookiesPerSecond,\n\t\t\t    price = _ref2.price;\n\n\t\t\tvar buy = function buy() {\n\t\t\t\treturn app.buyBuilding(name, 1);\n\t\t\t};\n\t\t\treturn Object(preact_min[\"h\"])(\n\t\t\t\t'li',\n\t\t\t\t{\n\t\t\t\t\t'class': affordable ? store_style_default.a.active : store_style_default.a.blocked,\n\t\t\t\t\tonClick: buy,\n\t\t\t\t\tkey: name\n\t\t\t\t},\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'h2',\n\t\t\t\t\tnull,\n\t\t\t\t\tname\n\t\t\t\t),\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Owned: ',\n\t\t\t\t\towned\n\t\t\t\t),\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'Price; ',\n\t\t\t\t\tprice\n\t\t\t\t),\n\t\t\t\tObject(preact_min[\"h\"])(\n\t\t\t\t\t'div',\n\t\t\t\t\tnull,\n\t\t\t\t\t'CpS: ',\n\t\t\t\t\tcookiesPerSecond\n\t\t\t\t)\n\t\t\t);\n\t\t})\n\t);\n};\n\n/* harmony default export */ var store = (store_Store);\n// CONCATENATED MODULE: ./components/app.jsx\n\n\nfunction app__classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n\n\n\n// import { appState } from '../services';\n\n// components\n\n\n\n\nvar app__ref = Object(preact_min[\"h\"])(\n\t'div',\n\t{ id: 'app' },\n\tObject(preact_min[\"h\"])(\n\t\tsubscribe_to_SubscribeToState,\n\t\tnull,\n\t\tObject(preact_min[\"h\"])(header_Header, null)\n\t),\n\tObject(preact_min[\"h\"])(cookie, null),\n\tObject(preact_min[\"h\"])(\n\t\tsubscribe_to_SubscribeToState,\n\t\tnull,\n\t\tObject(preact_min[\"h\"])(store, null)\n\t)\n);\n\nvar App = function () {\n\tfunction App() {\n\t\tapp__classCallCheck(this, App);\n\t}\n\n\tApp.prototype.componentDidMount = function componentDidMount() {\n\t\t// appState.requestRefresh();\n\t};\n\n\tApp.prototype.render = function render() {\n\t\treturn app__ref;\n\t};\n\n\treturn App;\n}();\n\n\n// CONCATENATED MODULE: ./index.js\n\n\n\n/* harmony default export */ var index = __webpack_exports__[\"default\"] = (App);\n\n/***/ }),\n\n/***/ \"KM04\":\n/***/ (function(module, exports, __webpack_require__) {\n\n!function () {\n  \"use strict\";\n  function e() {}function t(t, n) {\n    var o,\n        r,\n        i,\n        l,\n        a = E;for (l = arguments.length; l-- > 2;) {\n      W.push(arguments[l]);\n    }n && null != n.children && (W.length || W.push(n.children), delete n.children);while (W.length) {\n      if ((r = W.pop()) && void 0 !== r.pop) for (l = r.length; l--;) {\n        W.push(r[l]);\n      } else \"boolean\" == typeof r && (r = null), (i = \"function\" != typeof t) && (null == r ? r = \"\" : \"number\" == typeof r ? r += \"\" : \"string\" != typeof r && (i = !1)), i && o ? a[a.length - 1] += r : a === E ? a = [r] : a.push(r), o = i;\n    }var u = new e();return u.nodeName = t, u.children = a, u.attributes = null == n ? void 0 : n, u.key = null == n ? void 0 : n.key, void 0 !== S.vnode && S.vnode(u), u;\n  }function n(e, t) {\n    for (var n in t) {\n      e[n] = t[n];\n    }return e;\n  }function o(e, o) {\n    return t(e.nodeName, n(n({}, e.attributes), o), arguments.length > 2 ? [].slice.call(arguments, 2) : e.children);\n  }function r(e) {\n    !e.__d && (e.__d = !0) && 1 == A.push(e) && (S.debounceRendering || P)(i);\n  }function i() {\n    var e,\n        t = A;A = [];while (e = t.pop()) {\n      e.__d && k(e);\n    }\n  }function l(e, t, n) {\n    return \"string\" == typeof t || \"number\" == typeof t ? void 0 !== e.splitText : \"string\" == typeof t.nodeName ? !e._componentConstructor && a(e, t.nodeName) : n || e._componentConstructor === t.nodeName;\n  }function a(e, t) {\n    return e.__n === t || e.nodeName.toLowerCase() === t.toLowerCase();\n  }function u(e) {\n    var t = n({}, e.attributes);t.children = e.children;var o = e.nodeName.defaultProps;if (void 0 !== o) for (var r in o) {\n      void 0 === t[r] && (t[r] = o[r]);\n    }return t;\n  }function _(e, t) {\n    var n = t ? document.createElementNS(\"http://www.w3.org/2000/svg\", e) : document.createElement(e);return n.__n = e, n;\n  }function p(e) {\n    var t = e.parentNode;t && t.removeChild(e);\n  }function c(e, t, n, o, r) {\n    if (\"className\" === t && (t = \"class\"), \"key\" === t) ;else if (\"ref\" === t) n && n(null), o && o(e);else if (\"class\" !== t || r) {\n      if (\"style\" === t) {\n        if (o && \"string\" != typeof o && \"string\" != typeof n || (e.style.cssText = o || \"\"), o && \"object\" == typeof o) {\n          if (\"string\" != typeof n) for (var i in n) {\n            i in o || (e.style[i] = \"\");\n          }for (var i in o) {\n            e.style[i] = \"number\" == typeof o[i] && !1 === V.test(i) ? o[i] + \"px\" : o[i];\n          }\n        }\n      } else if (\"dangerouslySetInnerHTML\" === t) o && (e.innerHTML = o.__html || \"\");else if (\"o\" == t[0] && \"n\" == t[1]) {\n        var l = t !== (t = t.replace(/Capture$/, \"\"));t = t.toLowerCase().substring(2), o ? n || e.addEventListener(t, f, l) : e.removeEventListener(t, f, l), (e.__l || (e.__l = {}))[t] = o;\n      } else if (\"list\" !== t && \"type\" !== t && !r && t in e) s(e, t, null == o ? \"\" : o), null != o && !1 !== o || e.removeAttribute(t);else {\n        var a = r && t !== (t = t.replace(/^xlink\\:?/, \"\"));null == o || !1 === o ? a ? e.removeAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase()) : e.removeAttribute(t) : \"function\" != typeof o && (a ? e.setAttributeNS(\"http://www.w3.org/1999/xlink\", t.toLowerCase(), o) : e.setAttribute(t, o));\n      }\n    } else e.className = o || \"\";\n  }function s(e, t, n) {\n    try {\n      e[t] = n;\n    } catch (e) {}\n  }function f(e) {\n    return this.__l[e.type](S.event && S.event(e) || e);\n  }function d() {\n    var e;while (e = D.pop()) {\n      S.afterMount && S.afterMount(e), e.componentDidMount && e.componentDidMount();\n    }\n  }function h(e, t, n, o, r, i) {\n    H++ || (R = null != r && void 0 !== r.ownerSVGElement, j = null != e && !(\"__preactattr_\" in e));var l = m(e, t, n, o, i);return r && l.parentNode !== r && r.appendChild(l), --H || (j = !1, i || d()), l;\n  }function m(e, t, n, o, r) {\n    var i = e,\n        l = R;if (null != t && \"boolean\" != typeof t || (t = \"\"), \"string\" == typeof t || \"number\" == typeof t) return e && void 0 !== e.splitText && e.parentNode && (!e._component || r) ? e.nodeValue != t && (e.nodeValue = t) : (i = document.createTextNode(t), e && (e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0))), i.__preactattr_ = !0, i;var u = t.nodeName;if (\"function\" == typeof u) return U(e, t, n, o);if (R = \"svg\" === u || \"foreignObject\" !== u && R, u += \"\", (!e || !a(e, u)) && (i = _(u, R), e)) {\n      while (e.firstChild) {\n        i.appendChild(e.firstChild);\n      }e.parentNode && e.parentNode.replaceChild(i, e), b(e, !0);\n    }var p = i.firstChild,\n        c = i.__preactattr_,\n        s = t.children;if (null == c) {\n      c = i.__preactattr_ = {};for (var f = i.attributes, d = f.length; d--;) {\n        c[f[d].name] = f[d].value;\n      }\n    }return !j && s && 1 === s.length && \"string\" == typeof s[0] && null != p && void 0 !== p.splitText && null == p.nextSibling ? p.nodeValue != s[0] && (p.nodeValue = s[0]) : (s && s.length || null != p) && v(i, s, n, o, j || null != c.dangerouslySetInnerHTML), g(i, t.attributes, c), R = l, i;\n  }function v(e, t, n, o, r) {\n    var i,\n        a,\n        u,\n        _,\n        c,\n        s = e.childNodes,\n        f = [],\n        d = {},\n        h = 0,\n        v = 0,\n        y = s.length,\n        g = 0,\n        w = t ? t.length : 0;if (0 !== y) for (var C = 0; C < y; C++) {\n      var x = s[C],\n          N = x.__preactattr_,\n          k = w && N ? x._component ? x._component.__k : N.key : null;null != k ? (h++, d[k] = x) : (N || (void 0 !== x.splitText ? !r || x.nodeValue.trim() : r)) && (f[g++] = x);\n    }if (0 !== w) for (var C = 0; C < w; C++) {\n      _ = t[C], c = null;var k = _.key;if (null != k) h && void 0 !== d[k] && (c = d[k], d[k] = void 0, h--);else if (!c && v < g) for (i = v; i < g; i++) {\n        if (void 0 !== f[i] && l(a = f[i], _, r)) {\n          c = a, f[i] = void 0, i === g - 1 && g--, i === v && v++;break;\n        }\n      }c = m(c, _, n, o), u = s[C], c && c !== e && c !== u && (null == u ? e.appendChild(c) : c === u.nextSibling ? p(u) : e.insertBefore(c, u));\n    }if (h) for (var C in d) {\n      void 0 !== d[C] && b(d[C], !1);\n    }while (v <= g) {\n      void 0 !== (c = f[g--]) && b(c, !1);\n    }\n  }function b(e, t) {\n    var n = e._component;n ? L(n) : (null != e.__preactattr_ && e.__preactattr_.ref && e.__preactattr_.ref(null), !1 !== t && null != e.__preactattr_ || p(e), y(e));\n  }function y(e) {\n    e = e.lastChild;while (e) {\n      var t = e.previousSibling;b(e, !0), e = t;\n    }\n  }function g(e, t, n) {\n    var o;for (o in n) {\n      t && null != t[o] || null == n[o] || c(e, o, n[o], n[o] = void 0, R);\n    }for (o in t) {\n      \"children\" === o || \"innerHTML\" === o || o in n && t[o] === (\"value\" === o || \"checked\" === o ? e[o] : n[o]) || c(e, o, n[o], n[o] = t[o], R);\n    }\n  }function w(e) {\n    var t = e.constructor.name;(I[t] || (I[t] = [])).push(e);\n  }function C(e, t, n) {\n    var o,\n        r = I[e.name];if (e.prototype && e.prototype.render ? (o = new e(t, n), T.call(o, t, n)) : (o = new T(t, n), o.constructor = e, o.render = x), r) for (var i = r.length; i--;) {\n      if (r[i].constructor === e) {\n        o.__b = r[i].__b, r.splice(i, 1);break;\n      }\n    }return o;\n  }function x(e, t, n) {\n    return this.constructor(e, n);\n  }function N(e, t, n, o, i) {\n    e.__x || (e.__x = !0, (e.__r = t.ref) && delete t.ref, (e.__k = t.key) && delete t.key, !e.base || i ? e.componentWillMount && e.componentWillMount() : e.componentWillReceiveProps && e.componentWillReceiveProps(t, o), o && o !== e.context && (e.__c || (e.__c = e.context), e.context = o), e.__p || (e.__p = e.props), e.props = t, e.__x = !1, 0 !== n && (1 !== n && !1 === S.syncComponentUpdates && e.base ? r(e) : k(e, 1, i)), e.__r && e.__r(e));\n  }function k(e, t, o, r) {\n    if (!e.__x) {\n      var i,\n          l,\n          a,\n          _ = e.props,\n          p = e.state,\n          c = e.context,\n          s = e.__p || _,\n          f = e.__s || p,\n          m = e.__c || c,\n          v = e.base,\n          y = e.__b,\n          g = v || y,\n          w = e._component,\n          x = !1;if (v && (e.props = s, e.state = f, e.context = m, 2 !== t && e.shouldComponentUpdate && !1 === e.shouldComponentUpdate(_, p, c) ? x = !0 : e.componentWillUpdate && e.componentWillUpdate(_, p, c), e.props = _, e.state = p, e.context = c), e.__p = e.__s = e.__c = e.__b = null, e.__d = !1, !x) {\n        i = e.render(_, p, c), e.getChildContext && (c = n(n({}, c), e.getChildContext()));var U,\n            T,\n            M = i && i.nodeName;if (\"function\" == typeof M) {\n          var W = u(i);l = w, l && l.constructor === M && W.key == l.__k ? N(l, W, 1, c, !1) : (U = l, e._component = l = C(M, W, c), l.__b = l.__b || y, l.__u = e, N(l, W, 0, c, !1), k(l, 1, o, !0)), T = l.base;\n        } else a = g, U = w, U && (a = e._component = null), (g || 1 === t) && (a && (a._component = null), T = h(a, i, c, o || !v, g && g.parentNode, !0));if (g && T !== g && l !== w) {\n          var E = g.parentNode;E && T !== E && (E.replaceChild(T, g), U || (g._component = null, b(g, !1)));\n        }if (U && L(U), e.base = T, T && !r) {\n          var P = e,\n              V = e;while (V = V.__u) {\n            (P = V).base = T;\n          }T._component = P, T._componentConstructor = P.constructor;\n        }\n      }if (!v || o ? D.unshift(e) : x || (e.componentDidUpdate && e.componentDidUpdate(s, f, m), S.afterUpdate && S.afterUpdate(e)), null != e.__h) while (e.__h.length) {\n        e.__h.pop().call(e);\n      }H || r || d();\n    }\n  }function U(e, t, n, o) {\n    var r = e && e._component,\n        i = r,\n        l = e,\n        a = r && e._componentConstructor === t.nodeName,\n        _ = a,\n        p = u(t);while (r && !_ && (r = r.__u)) {\n      _ = r.constructor === t.nodeName;\n    }return r && _ && (!o || r._component) ? (N(r, p, 3, n, o), e = r.base) : (i && !a && (L(i), e = l = null), r = C(t.nodeName, p, n), e && !r.__b && (r.__b = e, l = null), N(r, p, 1, n, o), e = r.base, l && e !== l && (l._component = null, b(l, !1))), e;\n  }function L(e) {\n    S.beforeUnmount && S.beforeUnmount(e);var t = e.base;e.__x = !0, e.componentWillUnmount && e.componentWillUnmount(), e.base = null;var n = e._component;n ? L(n) : t && (t.__preactattr_ && t.__preactattr_.ref && t.__preactattr_.ref(null), e.__b = t, p(t), w(e), y(t)), e.__r && e.__r(null);\n  }function T(e, t) {\n    this.__d = !0, this.context = t, this.props = e, this.state = this.state || {};\n  }function M(e, t, n) {\n    return h(n, e, {}, !1, t, !1);\n  }var S = {},\n      W = [],\n      E = [],\n      P = \"function\" == typeof Promise ? Promise.resolve().then.bind(Promise.resolve()) : setTimeout,\n      V = /acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,\n      A = [],\n      D = [],\n      H = 0,\n      R = !1,\n      j = !1,\n      I = {};n(T.prototype, { setState: function setState(e, t) {\n      var o = this.state;this.__s || (this.__s = n({}, o)), n(o, \"function\" == typeof e ? e(o, this.props) : e), t && (this.__h = this.__h || []).push(t), r(this);\n    }, forceUpdate: function forceUpdate(e) {\n      e && (this.__h = this.__h || []).push(e), k(this, 2);\n    }, render: function render() {} });var $ = { h: t, createElement: t, cloneElement: o, Component: T, render: M, rerender: i, options: S }; true ? module.exports = $ : self.preact = $;\n}();\n//# sourceMappingURL=preact.min.js.map\n\n/***/ }),\n\n/***/ \"e5AH\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"cookie\":\"cookie__1AJma\"};\n\n/***/ }),\n\n/***/ \"enoJ\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\n(function () {\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function (resolve, reject) {\n      request.onsuccess = function () {\n        resolve(request.result);\n      };\n\n      request.onerror = function () {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function (resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function (value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function (prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function get() {\n          return this[targetProp][prop];\n        },\n        set: function set(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function () {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function () {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function (prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function () {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', ['name', 'keyPath', 'multiEntry', 'unique']);\n\n  proxyRequestMethods(Index, '_index', IDBIndex, ['get', 'getKey', 'getAll', 'getAllKeys', 'count']);\n\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, ['openCursor', 'openKeyCursor']);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', ['direction', 'key', 'primaryKey', 'value']);\n\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, ['update', 'delete']);\n\n  // proxy 'next' methods\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function (methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n    Cursor.prototype[methodName] = function () {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function () {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n        return promisifyRequest(cursor._request).then(function (value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function () {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function () {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', ['name', 'keyPath', 'indexNames', 'autoIncrement']);\n\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, ['put', 'add', 'delete', 'clear', 'get', 'getAll', 'getKey', 'getAllKeys', 'count']);\n\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, ['openCursor', 'openKeyCursor']);\n\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, ['deleteIndex']);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function (resolve, reject) {\n      idbTransaction.oncomplete = function () {\n        resolve();\n      };\n      idbTransaction.onerror = function () {\n        reject(idbTransaction.error);\n      };\n      idbTransaction.onabort = function () {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function () {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', ['objectStoreNames', 'mode']);\n\n  proxyMethods(Transaction, '_tx', IDBTransaction, ['abort']);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function () {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', ['name', 'version', 'objectStoreNames']);\n\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, ['deleteObjectStore', 'close']);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function () {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', ['name', 'version', 'objectStoreNames']);\n\n  proxyMethods(DB, '_db', IDBDatabase, ['close']);\n\n  // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n  ['openCursor', 'openKeyCursor'].forEach(function (funcName) {\n    [ObjectStore, Index].forEach(function (Constructor) {\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function () {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n        request.onsuccess = function () {\n          callback(request.result);\n        };\n      };\n    });\n  });\n\n  // polyfill getAll\n  [Index, ObjectStore].forEach(function (Constructor) {\n    if (Constructor.prototype.getAll) return;\n    Constructor.prototype.getAll = function (query, count) {\n      var instance = this;\n      var items = [];\n\n      return new Promise(function (resolve) {\n        instance.iterateCursor(query, function (cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n          cursor.continue();\n        });\n      });\n    };\n  });\n\n  var exp = {\n    open: function open(name, version, upgradeCallback) {\n      var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n      var request = p.request;\n\n      request.onupgradeneeded = function (event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n\n      return p.then(function (db) {\n        return new DB(db);\n      });\n    },\n    delete: function _delete(name) {\n      return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n    }\n  };\n\n  if (true) {\n    module.exports = exp;\n    module.exports.default = module.exports;\n  } else {\n    self.idb = exp;\n  }\n})();\n\n/***/ }),\n\n/***/ \"pwNi\":\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _preact = __webpack_require__(\"KM04\");\n\nif (false) {\n\trequire('preact/devtools');\n} else if (true && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_require__.p + 'sw.js');\n}\n\nvar interopDefault = function interopDefault(m) {\n\treturn m && m.default ? m.default : m;\n};\n\nvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\nif (typeof app === 'function') {\n\tvar root = document.body.firstElementChild;\n\n\tvar init = function init() {\n\t\tvar app = interopDefault(__webpack_require__(\"JkW7\"));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (false) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n/***/ }),\n\n/***/ \"rq4c\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\n\n/***/ }),\n\n/***/ \"u3et\":\n/***/ (function(module, exports) {\n\n// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"header__2MqSo\"};\n\n/***/ })\n\n/******/ });\n\n\n// WEBPACK FOOTER //\n// bundle.b91d5.js"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"pwNi\");\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 72f47383b0fe7452f7c2","// removed by extract-text-webpack-plugin\nmodule.exports = {\"store\":\"store__2YQhv\",\"blocked\":\"blocked__bFsa8\",\"active\":\"active__2rerf\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/store/style.css\n// module id = JCeB\n// module chunks = 0","import preact, { h, Component } from 'preact';\r\n\r\n// Subscribe is a higher order component that will inject some data to it's children whenever a specific event occurs\r\n// Could be used to listen to any event, not necessarily to one that involves global app state\r\n\r\n// You can subscribe to events by `to` prop from any obseravable passed to 'from' prop\r\n// Data published from observable is accesible in children by `props.sub`\r\nclass Subscribe extends Component {\r\n\r\n\tonAppStateChange = subData => this.setState({ subData });\r\n\t\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {};\r\n\t\tthis.observable = props.from;\r\n\t}\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { to: event } = this.props;\r\n\t\tif (event) {\r\n\t\t\tthis.observable.addObserver(event, this, this.onAppStateChange);\r\n\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tconst { to: event } = this.props;\r\n\t\tif (event) {\r\n\t\t\tthis.observable.removeObserver(event, this);\r\n\t\t}\r\n\t}\r\n\r\n\trender({ children }, { subData }) {\r\n\t\tif (children.length > 1) {\r\n\t\t\treturn (\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{children.map(child => preact.cloneElement(child, { sub: subData }))}\r\n\t\t\t\t</div>\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn preact.cloneElement(children[0], { sub: subData });\r\n\t}\r\n}\r\n\r\nexport default Subscribe;\n\n\n// WEBPACK FOOTER //\n// ./components/common/subscribe.jsx","\r\n// ObservableService is a class that implements observer pattern\r\n// it will run callbacks registered to specific events upon calling `emitEvent`.\r\n// Do not use it directly when dealing with global app state. Use `GameService`s methods instead.\r\n// It could be helpful with other actions though.\r\nexport default class ObservableService {\r\n\tconstructor() {\r\n\t\tthis.observers = {};\r\n\t}\r\n\r\n\taddObserver(eventType, observer, callback) {\r\n\t\tthis.observers[eventType] = (this.observers[eventType]\r\n\t\t\t? [...this.observers[eventType], { observer, callback }]\r\n\t\t\t: [{ observer, callback }]\r\n\t\t);\r\n\t}\r\n\r\n\tremoveObserver(eventType, observer) {\r\n\t\tthis.observers[eventType] = this.observers[eventType]\r\n\t\t\t.filter(current => current.observer !== observer);\r\n\t}\r\n\r\n\temitEvent(eventType, data) {\r\n\t\tconst eventObs = this.observers[eventType];\r\n\t\tif (!eventObs || eventObs.length < 0) {\r\n\t\t\treturn;\r\n\t\t}\r\n\t\teventObs.forEach(current => current.callback(data));\r\n\t}\r\n\r\n\temitEvents(events) {\r\n\t\tevents.forEach(({ type, data }) => this.emitEvent(type, data));\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/observable/observable.js","export default class Structure {\r\n\tconstructor({ baseCost, owned = 0, name, refreshRate, incrQuantity }) {\r\n\t\tthis.baseCost = baseCost;\r\n\t\tthis.owned = owned;\r\n\t\tthis.name = name;\r\n\t\tthis.refreshRate = refreshRate ? refreshRate : 1;\r\n\t\tthis.incrQuantity = incrQuantity;\r\n\r\n\t\tthis.affordable = false;\r\n\t\tthis.cookiesPerSecond = 0;\r\n\t\tthis.price = this.getPrice(1);\r\n\t}\r\n\r\n\tgetPrice(quantity = 1) {\r\n\t\t// magic numbers and formulas acquired from:\r\n\t\t// http://cookieclicker.wikia.com/wiki/Buildings\r\n\t\tconst powBase = 1.15;\r\n\t\tconst denominator = 0.15;\r\n\r\n\t\tif (quantity >= 1) {\r\n\t\t\treturn Math.ceil((this.baseCost * ((powBase ** (quantity + this.owned)) - (powBase ** this.owned))) / denominator);\r\n\t\t}\r\n\t\t\r\n\t\tthrow new Error('quantity can\\'t be lower than 1');\r\n\t}\r\n\r\n\tcalculateCookiesPerSecond() {\r\n\t\tconst cps = Math.floor(10 * (this.owned * this.refreshRate * this.incrQuantity)) / 10;\r\n\t\tthis.cookiesPerSecond = cps;\r\n\t\treturn cps;\r\n\t}\r\n\r\n\tcheckIfAffordable(cookies, quantity = 1) {\r\n\t\tconst price = this.getPrice(quantity);\r\n\t\tthis.affordable = cookies >= price;\r\n\r\n\t\treturn [this.affordable, price];\r\n\t}\r\n\r\n\tbuy(cookies, quantity = 1) {\r\n\t\tconst [affordable, price] = this.checkIfAffordable(cookies, quantity);\r\n\r\n\t\t// buy structure\r\n\t\tif (affordable) {\r\n\t\t\tthis.owned += quantity;\r\n\r\n\t\t\t// calculate next price of structure\r\n\t\t\tthis.price = this.getPrice();\r\n\r\n\t\t\t// return current price\r\n\t\t\treturn price;\r\n\t\t}\r\n\r\n\t\t// structure can't be bought\r\n\t\treturn false;\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/buildings/structure.js","import Structure from './structure';\r\n\r\nclass Cursor extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 15,\r\n\t\t\tname: 'Cursor',\r\n\t\t\trefreshRate: 0.1,\r\n\t\t\tincrQuantity: 1\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Grandma extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 100,\r\n\t\t\tname: 'Grandma',\r\n\t\t\tincrQuantity: 1\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Farm extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 1100,\r\n\t\t\tname: 'Farm',\r\n\t\t\tincrQuantity: 8\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Mine extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 12000,\r\n\t\t\tname: 'Mine',\r\n\t\t\tincrQuantity: 47\r\n\t\t});\r\n\t}\r\n}\r\n\r\nclass Factory extends Structure {\r\n\tconstructor(owned) {\r\n\t\tsuper({\r\n\t\t\towned,\r\n\t\t\tbaseCost: 130000,\r\n\t\t\tname: 'Factory',\r\n\t\t\tincrQuantity: 260\r\n\t\t});\r\n\t}\r\n}\r\n\r\nexport default { Cursor, Grandma, Farm, Mine, Factory };\n\n\n// WEBPACK FOOTER //\n// ./services/buildings/buildings.js","import Buildings from '../buildings/buildings';\r\n\r\nexport const getInitialState = (Structures = Buildings) => ( {\r\n\tname: 'Bakery',\r\n\tcookiesQuantity: 0,\r\n\tcookiesDisplay: 0,\r\n\tcookiesPerClick: 1,\r\n\tbuildings: Object.keys(Structures).map(key => new Structures[key]())\r\n});\r\n\r\nexport const transformDbState = (state, Structures = Buildings) => (\r\n\tObject.assign({}, state, { buildings: state.buildings.map(dbBuilding => {\r\n\t\tconst CurrentStructure = Structures[dbBuilding.name];\r\n\t\tconsole.log(CurrentStructure);\r\n\t\tif (CurrentStructure) {\r\n\t\t\treturn Object.assign(new CurrentStructure(), dbBuilding );\r\n\t\t}\r\n\t}) })\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/game/util.js","import {\r\n\tAPP_STATE_CHANGED\r\n} from '../observable/events';\r\nimport { getInitialState } from './util';\r\n\r\n// GameService encapsulates game logic and serves as data store for whole app\r\n// By using it's methods you are changing global state\r\n// which is then automatically injected into `sub` prop\r\n// to all components that are inside SubscribeToState HOC\r\nexport default class GameService {\r\n\tconstructor({ observable, state, stateService, dbService, saveInterval }) {\r\n\t\t// dependencies\r\n\t\tthis.observable = observable;\r\n\t\tthis.state = state;\r\n\t\tthis.dbService = dbService;\r\n\r\n\r\n\t\tconsole.log(state);\r\n\r\n\t\t// init\r\n\t\tthis.calculateCookiesPerSecond();\r\n\t\tthis.startGame();\r\n\t\tthis.autoSave(saveInterval);\r\n\t}\r\n\r\n\t// save state to the Db on regular basis\r\n\tautoSave(seconds) {\r\n\t\tsetInterval(() => this.dbService.write('state', this.state), seconds * 1000);\r\n\t}\r\n\r\n\t// resetGame removes all saved data from db store and restores initial values\r\n\tresetGame() {\r\n\t\tthis.dbService.clear('state');\r\n\t\tthis.state = getInitialState();\r\n\t\tthis.calculateCookiesPerSecond();\r\n\t}\r\n\r\n\t// get cookies per second from every currently owned building and calculate global CpS.\r\n\tcalculateCookiesPerSecond() {\r\n\t\tthis.state.cookiesPerSecond = this.state.buildings\r\n\t\t\t.map(building => building.calculateCookiesPerSecond())\r\n\t\t\t.reduce((acc, curr) => acc + curr);\r\n\t}\r\n\r\n\t// start game loop\r\n\tstartGame() {\r\n\t\t// `requestAnimationFrame` will stop it's execution after tab is blurred\r\n\t\t// but thanks to `delta` the right amount of cookies will be calculated\r\n\t\t// according to seconds passed since last frame\r\n\t\tconst timestamp = () => (\r\n\t\t\twindow.performance && window.performance.now\r\n\t\t\t\t? window.performance.now()\r\n\t\t\t\t: new Date().getTime()\r\n\t\t);\r\n\t\tlet now;\r\n\t\tlet delta;\r\n\t\tlet last = timestamp();\r\n\r\n\t\tconst frame = () => {\r\n\t\t\tnow = timestamp();\r\n\t\t\tdelta = (now - last) / 1000;\r\n\t\t\tthis.update(delta);\r\n\t\t\tthis.render();\r\n\t\t\tlast = now;\r\n\r\n\t\t\trequestAnimationFrame(frame);\r\n\t\t};\r\n\t\t\r\n\t\t// start loop\r\n\t\trequestAnimationFrame(frame);\r\n\t}\r\n\r\n\t// game logic\r\n\t// runs on every frame and on a request\r\n\tupdate(secondsPassed = null) {\r\n\t\t// if seconds are passed in then add cookies for passed second\r\n\t\tif (secondsPassed) {\r\n\t\t\tthis.state.cookiesQuantity += this.state.cookiesPerSecond * secondsPassed;\r\n\t\t}\r\n\r\n\t\t// show whole cookies\r\n\t\tthis.state.cookiesDisplay = Math.floor(this.state.cookiesQuantity);\r\n\r\n\t\t// get current price of buildings\r\n\t\t// use whole cookies for calculcation to make it more sane for user\r\n\t\tthis.state.buildings.forEach(\r\n\t\t\tbuilding => building.checkIfAffordable(this.state.cookiesDisplay)\r\n\t\t);\r\n\t}\r\n\r\n\t// emit events that will instruct Preact to re-render DOM\r\n\trender() {\r\n\t\t// inject new state into 'sub' prop of SubscribeToState's HOC children\r\n\t\tthis.observable.emitEvent(APP_STATE_CHANGED, this.state);\r\n\t}\r\n\r\n\t// if building is affordable then buy it, recalculate CpS and request update\r\n\tbuyBuilding(name, quantity = 1) {\r\n\t\tconst building = this.state.buildings.find(building => building.name === name);\r\n\t\tconst price = building.buy(this.state.cookiesQuantity, quantity);\r\n\r\n\t\tif (price) {\r\n\t\t\tthis.state.cookiesQuantity = Math.ceil(10 * (this.state.cookiesQuantity - price)) / 10;\r\n\t\t\tthis.calculateCookiesPerSecond();\r\n\t\t\tthis.requestRefresh();\r\n\t\t}\r\n\t}\r\n\r\n\t// click on a cookie\r\n\tclick(num = this.state.cookiesPerClick) {\r\n\t\tthis.state.cookiesQuantity += num;\r\n\t\tthis.requestRefresh();\r\n\t}\r\n\r\n\trequestRefresh() {\r\n\t\tthis.update();\r\n\t\tthis.render();\r\n\t}\r\n\r\n}\n\n\n// WEBPACK FOOTER //\n// ./services/game/game.js","// events that could be observed\r\n\r\n// get whole app state\r\nexport const APP_STATE_CHANGED = 'app_state_changed';\n\n\n// WEBPACK FOOTER //\n// ./services/observable/events.js","// DbService takes care of DB operations on state\r\nexport default class DbService {\r\n\tconstructor({ driver, name, stores, version }) {\r\n\t\tthis.driver = driver;\r\n\r\n\t\tif ('indexedDB' in window || process.env.NODE_ENV) {\r\n\t\t\tthis.dbPromise = this.createDatabase(name, stores, version = 1);\r\n\t\t}\r\n\t\telse {\r\n\t\t\t//eslint-disable-next-line\r\n\t\t\twindow.alert('To save your cookies you need to use newer browser!');\r\n\t\t}\r\n\t}\r\n\r\n\tcreateDatabase(name, stores, version = 1) {\r\n\t\treturn this.driver.open(name, version, db => {\r\n\t\t\tstores.forEach(({ store, key }) => {\r\n\t\t\t\t!db.objectStoreNames.contains(store) && db.createObjectStore(store, { keyPath: key });\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n\twrite(store, data) {\r\n\t\treturn this.dbPromise.then(db => {\r\n\t\t\tconst transaction = db.transaction(store, 'readwrite').objectStore(store).put(data);\r\n\r\n\t\t\treturn transaction.complete;\r\n\t\t});\r\n\t}\r\n\r\n\treadAll(store) {\r\n\t\treturn this.dbPromise.then(db => db.transaction(store, 'readonly').objectStore(store).getAll());\r\n\t}\r\n\r\n\tclear(store) {\r\n\t\treturn this.dbPromise.then(db => {\r\n\t\t\tconst transaction = db.transaction(store, 'readwrite').objectStore(store).clear();\r\n\r\n\t\t\treturn transaction.complete;\r\n\t\t});\r\n\t}\r\n}\r\n\r\n\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/database/db.js","import idb from 'idb';\r\nimport ObservableService from './observable/observable';\r\nimport { getInitialState, transformDbState } from './game/util';\r\nimport GameService from './game/game';\r\nimport DbService from './database/db';\r\n\r\n// inject dependencies and initialize the app\r\n\r\nexport let app;\r\nexport const observable = new ObservableService();\r\n\r\nconst dbService = new DbService({\r\n\tdriver: idb,\r\n\tname: 'cookie-clicker-db',\r\n\tstores: [{ store: 'state', key: 'name' }]\r\n});\r\n\r\ndbService.readAll('state').then(state => {\r\n\tconsole.log('loadedState', state);\r\n\tapp = new GameService({\r\n\t\tobservable,\r\n\t\tdbService,\r\n\t\tsaveInterval: 2,\r\n\t\tstate: (!state || state.length <= 0)\r\n\t\t\t? getInitialState()\r\n\t\t\t: transformDbState(state[0])\r\n\t});\r\n});\r\n\n\n\n// WEBPACK FOOTER //\n// ./services/index.js","import { h } from 'preact';\r\nimport Subscribe from './subscribe';\r\nimport { observable } from '../../services';\r\nimport { APP_STATE_CHANGED } from '../../services/observable/events';\r\n\r\n// SubscribeToState is a higher order component that injects global app state into props of it's children\r\n// It is triggered by APP_STATE_CHANGED event\r\nexport const SubscribeToState = ({ children }) => (\r\n\t<Subscribe to={APP_STATE_CHANGED} from={observable}>\r\n\t\t{children}\r\n\t</Subscribe>\r\n);\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/common/subscribe-to.jsx","import { h } from 'preact';\r\nimport style from './style';\r\n\r\nimport { app } from '../../services';\r\n\r\nexport default class Header {\r\n\tresetHandler = () => app.resetGame();\r\n\r\n\trender({ sub }) {\r\n\t\treturn (\r\n\t\t\t<header class={style.header}>\r\n\t\t\t\t<h1>Cookies: {sub && sub.cookiesDisplay}</h1>\r\n\t\t\t\t<span>{sub && sub.name}</span>\r\n\t\t\t\t<span>CpS: { sub && sub.cookiesPerSecond}</span>\r\n\t\t\t\t<button onClick={this.resetHandler}>reset</button>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n\n\n\n// WEBPACK FOOTER //\n// ./components/header/index.jsx","import { h } from 'preact';\r\nimport style from './style';\r\nimport { app } from '../../services';\r\n\r\nconst clickHandler = () => app.click();\r\n\r\nconst Cookie = ({ sub }) => (\r\n\t<button class={style.cookie} onClick={clickHandler}>\r\n\t\r\n\t</button>\r\n);\r\n\r\nexport default Cookie;\n\n\n// WEBPACK FOOTER //\n// ./components/cookie/index.jsx","import { h } from 'preact';\r\nimport style from './style';\r\n\r\nimport { app } from '../../services';\r\n\r\nconst Store = ({ sub }) => (\r\n\t<ul class={style.store}>\r\n\t\t{ sub && sub.buildings.map(({ name, owned, affordable, cookiesPerSecond, price }) => {\r\n\t\t\tconst buy = () => app.buyBuilding(name, 1);\r\n\t\t\treturn (\r\n\t\t\t\t<li\r\n\t\t\t\t\tclass={affordable ? style.active : style.blocked}\r\n\t\t\t\t\tonClick={buy}\r\n\t\t\t\t\tkey={name}\r\n\t\t\t\t>\r\n\t\t\t\t\t<h2>{name}</h2>\r\n\t\t\t\t\t<div>Owned: {owned}</div>\r\n\t\t\t\t\t<div>Price; {price}</div>\r\n\t\t\t\t\t<div>CpS: {cookiesPerSecond}</div>\r\n\t\t\t\t</li>\r\n\t\t\t);\r\n\t\t})}\r\n\t</ul>\r\n);\r\n\r\nexport default Store;\n\n\n// WEBPACK FOOTER //\n// ./components/store/index.jsx","import { h } from 'preact';\r\n\r\nimport { SubscribeToState } from './common/subscribe-to';\r\n// import { appState } from '../services';\r\n\r\n// components\r\nimport Header from './header';\r\nimport Cookie from './cookie';\r\nimport Store from './store';\r\n\r\nexport default class App {\r\n\tcomponentDidMount() {\r\n\t\t// appState.requestRefresh();\r\n\t}\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<div id=\"app\">\r\n\t\t\t\t<SubscribeToState>\r\n\t\t\t\t\t<Header />\r\n\t\t\t\t</SubscribeToState>\r\n\t\t\t\t<Cookie />\r\n\t\t\t\t<SubscribeToState>\r\n\t\t\t\t\t<Store />\r\n\t\t\t\t</SubscribeToState>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\n\n\n// WEBPACK FOOTER //\n// ./components/app.jsx","import './style';\nimport App from './components/app';\n\nexport default App;\n\n\n\n// WEBPACK FOOTER //\n// ./index.js","!function(){\"use strict\";function e(){}function t(t,n){var o,r,i,l,a=E;for(l=arguments.length;l-- >2;)W.push(arguments[l]);n&&null!=n.children&&(W.length||W.push(n.children),delete n.children);while(W.length)if((r=W.pop())&&void 0!==r.pop)for(l=r.length;l--;)W.push(r[l]);else\"boolean\"==typeof r&&(r=null),(i=\"function\"!=typeof t)&&(null==r?r=\"\":\"number\"==typeof r?r+=\"\":\"string\"!=typeof r&&(i=!1)),i&&o?a[a.length-1]+=r:a===E?a=[r]:a.push(r),o=i;var u=new e;return u.nodeName=t,u.children=a,u.attributes=null==n?void 0:n,u.key=null==n?void 0:n.key,void 0!==S.vnode&&S.vnode(u),u}function n(e,t){for(var n in t)e[n]=t[n];return e}function o(e,o){return t(e.nodeName,n(n({},e.attributes),o),arguments.length>2?[].slice.call(arguments,2):e.children)}function r(e){!e.__d&&(e.__d=!0)&&1==A.push(e)&&(S.debounceRendering||P)(i)}function i(){var e,t=A;A=[];while(e=t.pop())e.__d&&k(e)}function l(e,t,n){return\"string\"==typeof t||\"number\"==typeof t?void 0!==e.splitText:\"string\"==typeof t.nodeName?!e._componentConstructor&&a(e,t.nodeName):n||e._componentConstructor===t.nodeName}function a(e,t){return e.__n===t||e.nodeName.toLowerCase()===t.toLowerCase()}function u(e){var t=n({},e.attributes);t.children=e.children;var o=e.nodeName.defaultProps;if(void 0!==o)for(var r in o)void 0===t[r]&&(t[r]=o[r]);return t}function _(e,t){var n=t?document.createElementNS(\"http://www.w3.org/2000/svg\",e):document.createElement(e);return n.__n=e,n}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function c(e,t,n,o,r){if(\"className\"===t&&(t=\"class\"),\"key\"===t);else if(\"ref\"===t)n&&n(null),o&&o(e);else if(\"class\"!==t||r)if(\"style\"===t){if(o&&\"string\"!=typeof o&&\"string\"!=typeof n||(e.style.cssText=o||\"\"),o&&\"object\"==typeof o){if(\"string\"!=typeof n)for(var i in n)i in o||(e.style[i]=\"\");for(var i in o)e.style[i]=\"number\"==typeof o[i]&&!1===V.test(i)?o[i]+\"px\":o[i]}}else if(\"dangerouslySetInnerHTML\"===t)o&&(e.innerHTML=o.__html||\"\");else if(\"o\"==t[0]&&\"n\"==t[1]){var l=t!==(t=t.replace(/Capture$/,\"\"));t=t.toLowerCase().substring(2),o?n||e.addEventListener(t,f,l):e.removeEventListener(t,f,l),(e.__l||(e.__l={}))[t]=o}else if(\"list\"!==t&&\"type\"!==t&&!r&&t in e)s(e,t,null==o?\"\":o),null!=o&&!1!==o||e.removeAttribute(t);else{var a=r&&t!==(t=t.replace(/^xlink\\:?/,\"\"));null==o||!1===o?a?e.removeAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase()):e.removeAttribute(t):\"function\"!=typeof o&&(a?e.setAttributeNS(\"http://www.w3.org/1999/xlink\",t.toLowerCase(),o):e.setAttribute(t,o))}else e.className=o||\"\"}function s(e,t,n){try{e[t]=n}catch(e){}}function f(e){return this.__l[e.type](S.event&&S.event(e)||e)}function d(){var e;while(e=D.pop())S.afterMount&&S.afterMount(e),e.componentDidMount&&e.componentDidMount()}function h(e,t,n,o,r,i){H++||(R=null!=r&&void 0!==r.ownerSVGElement,j=null!=e&&!(\"__preactattr_\"in e));var l=m(e,t,n,o,i);return r&&l.parentNode!==r&&r.appendChild(l),--H||(j=!1,i||d()),l}function m(e,t,n,o,r){var i=e,l=R;if(null!=t&&\"boolean\"!=typeof t||(t=\"\"),\"string\"==typeof t||\"number\"==typeof t)return e&&void 0!==e.splitText&&e.parentNode&&(!e._component||r)?e.nodeValue!=t&&(e.nodeValue=t):(i=document.createTextNode(t),e&&(e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0))),i.__preactattr_=!0,i;var u=t.nodeName;if(\"function\"==typeof u)return U(e,t,n,o);if(R=\"svg\"===u||\"foreignObject\"!==u&&R,u+=\"\",(!e||!a(e,u))&&(i=_(u,R),e)){while(e.firstChild)i.appendChild(e.firstChild);e.parentNode&&e.parentNode.replaceChild(i,e),b(e,!0)}var p=i.firstChild,c=i.__preactattr_,s=t.children;if(null==c){c=i.__preactattr_={};for(var f=i.attributes,d=f.length;d--;)c[f[d].name]=f[d].value}return!j&&s&&1===s.length&&\"string\"==typeof s[0]&&null!=p&&void 0!==p.splitText&&null==p.nextSibling?p.nodeValue!=s[0]&&(p.nodeValue=s[0]):(s&&s.length||null!=p)&&v(i,s,n,o,j||null!=c.dangerouslySetInnerHTML),g(i,t.attributes,c),R=l,i}function v(e,t,n,o,r){var i,a,u,_,c,s=e.childNodes,f=[],d={},h=0,v=0,y=s.length,g=0,w=t?t.length:0;if(0!==y)for(var C=0;C<y;C++){var x=s[C],N=x.__preactattr_,k=w&&N?x._component?x._component.__k:N.key:null;null!=k?(h++,d[k]=x):(N||(void 0!==x.splitText?!r||x.nodeValue.trim():r))&&(f[g++]=x)}if(0!==w)for(var C=0;C<w;C++){_=t[C],c=null;var k=_.key;if(null!=k)h&&void 0!==d[k]&&(c=d[k],d[k]=void 0,h--);else if(!c&&v<g)for(i=v;i<g;i++)if(void 0!==f[i]&&l(a=f[i],_,r)){c=a,f[i]=void 0,i===g-1&&g--,i===v&&v++;break}c=m(c,_,n,o),u=s[C],c&&c!==e&&c!==u&&(null==u?e.appendChild(c):c===u.nextSibling?p(u):e.insertBefore(c,u))}if(h)for(var C in d)void 0!==d[C]&&b(d[C],!1);while(v<=g)void 0!==(c=f[g--])&&b(c,!1)}function b(e,t){var n=e._component;n?L(n):(null!=e.__preactattr_&&e.__preactattr_.ref&&e.__preactattr_.ref(null),!1!==t&&null!=e.__preactattr_||p(e),y(e))}function y(e){e=e.lastChild;while(e){var t=e.previousSibling;b(e,!0),e=t}}function g(e,t,n){var o;for(o in n)t&&null!=t[o]||null==n[o]||c(e,o,n[o],n[o]=void 0,R);for(o in t)\"children\"===o||\"innerHTML\"===o||o in n&&t[o]===(\"value\"===o||\"checked\"===o?e[o]:n[o])||c(e,o,n[o],n[o]=t[o],R)}function w(e){var t=e.constructor.name;(I[t]||(I[t]=[])).push(e)}function C(e,t,n){var o,r=I[e.name];if(e.prototype&&e.prototype.render?(o=new e(t,n),T.call(o,t,n)):(o=new T(t,n),o.constructor=e,o.render=x),r)for(var i=r.length;i--;)if(r[i].constructor===e){o.__b=r[i].__b,r.splice(i,1);break}return o}function x(e,t,n){return this.constructor(e,n)}function N(e,t,n,o,i){e.__x||(e.__x=!0,(e.__r=t.ref)&&delete t.ref,(e.__k=t.key)&&delete t.key,!e.base||i?e.componentWillMount&&e.componentWillMount():e.componentWillReceiveProps&&e.componentWillReceiveProps(t,o),o&&o!==e.context&&(e.__c||(e.__c=e.context),e.context=o),e.__p||(e.__p=e.props),e.props=t,e.__x=!1,0!==n&&(1!==n&&!1===S.syncComponentUpdates&&e.base?r(e):k(e,1,i)),e.__r&&e.__r(e))}function k(e,t,o,r){if(!e.__x){var i,l,a,_=e.props,p=e.state,c=e.context,s=e.__p||_,f=e.__s||p,m=e.__c||c,v=e.base,y=e.__b,g=v||y,w=e._component,x=!1;if(v&&(e.props=s,e.state=f,e.context=m,2!==t&&e.shouldComponentUpdate&&!1===e.shouldComponentUpdate(_,p,c)?x=!0:e.componentWillUpdate&&e.componentWillUpdate(_,p,c),e.props=_,e.state=p,e.context=c),e.__p=e.__s=e.__c=e.__b=null,e.__d=!1,!x){i=e.render(_,p,c),e.getChildContext&&(c=n(n({},c),e.getChildContext()));var U,T,M=i&&i.nodeName;if(\"function\"==typeof M){var W=u(i);l=w,l&&l.constructor===M&&W.key==l.__k?N(l,W,1,c,!1):(U=l,e._component=l=C(M,W,c),l.__b=l.__b||y,l.__u=e,N(l,W,0,c,!1),k(l,1,o,!0)),T=l.base}else a=g,U=w,U&&(a=e._component=null),(g||1===t)&&(a&&(a._component=null),T=h(a,i,c,o||!v,g&&g.parentNode,!0));if(g&&T!==g&&l!==w){var E=g.parentNode;E&&T!==E&&(E.replaceChild(T,g),U||(g._component=null,b(g,!1)))}if(U&&L(U),e.base=T,T&&!r){var P=e,V=e;while(V=V.__u)(P=V).base=T;T._component=P,T._componentConstructor=P.constructor}}if(!v||o?D.unshift(e):x||(e.componentDidUpdate&&e.componentDidUpdate(s,f,m),S.afterUpdate&&S.afterUpdate(e)),null!=e.__h)while(e.__h.length)e.__h.pop().call(e);H||r||d()}}function U(e,t,n,o){var r=e&&e._component,i=r,l=e,a=r&&e._componentConstructor===t.nodeName,_=a,p=u(t);while(r&&!_&&(r=r.__u))_=r.constructor===t.nodeName;return r&&_&&(!o||r._component)?(N(r,p,3,n,o),e=r.base):(i&&!a&&(L(i),e=l=null),r=C(t.nodeName,p,n),e&&!r.__b&&(r.__b=e,l=null),N(r,p,1,n,o),e=r.base,l&&e!==l&&(l._component=null,b(l,!1))),e}function L(e){S.beforeUnmount&&S.beforeUnmount(e);var t=e.base;e.__x=!0,e.componentWillUnmount&&e.componentWillUnmount(),e.base=null;var n=e._component;n?L(n):t&&(t.__preactattr_&&t.__preactattr_.ref&&t.__preactattr_.ref(null),e.__b=t,p(t),w(e),y(t)),e.__r&&e.__r(null)}function T(e,t){this.__d=!0,this.context=t,this.props=e,this.state=this.state||{}}function M(e,t,n){return h(n,e,{},!1,t,!1)}var S={},W=[],E=[],P=\"function\"==typeof Promise?Promise.resolve().then.bind(Promise.resolve()):setTimeout,V=/acit|ex(?:s|g|n|p|$)|rph|ows|mnc|ntw|ine[ch]|zoo|^ord/i,A=[],D=[],H=0,R=!1,j=!1,I={};n(T.prototype,{setState:function(e,t){var o=this.state;this.__s||(this.__s=n({},o)),n(o,\"function\"==typeof e?e(o,this.props):e),t&&(this.__h=this.__h||[]).push(t),r(this)},forceUpdate:function(e){e&&(this.__h=this.__h||[]).push(e),k(this,2)},render:function(){}});var $={h:t,createElement:t,cloneElement:o,Component:T,render:M,rerender:i,options:S};\"undefined\"!=typeof module?module.exports=$:self.preact=$}();\n//# sourceMappingURL=preact.min.js.map\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact/dist/preact.min.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"cookie\":\"cookie__1AJma\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/cookie/style.css\n// module id = e5AH\n// module chunks = 0","'use strict';\n\n(function() {\n  function toArray(arr) {\n    return Array.prototype.slice.call(arr);\n  }\n\n  function promisifyRequest(request) {\n    return new Promise(function(resolve, reject) {\n      request.onsuccess = function() {\n        resolve(request.result);\n      };\n\n      request.onerror = function() {\n        reject(request.error);\n      };\n    });\n  }\n\n  function promisifyRequestCall(obj, method, args) {\n    var request;\n    var p = new Promise(function(resolve, reject) {\n      request = obj[method].apply(obj, args);\n      promisifyRequest(request).then(resolve, reject);\n    });\n\n    p.request = request;\n    return p;\n  }\n\n  function promisifyCursorRequestCall(obj, method, args) {\n    var p = promisifyRequestCall(obj, method, args);\n    return p.then(function(value) {\n      if (!value) return;\n      return new Cursor(value, p.request);\n    });\n  }\n\n  function proxyProperties(ProxyClass, targetProp, properties) {\n    properties.forEach(function(prop) {\n      Object.defineProperty(ProxyClass.prototype, prop, {\n        get: function() {\n          return this[targetProp][prop];\n        },\n        set: function(val) {\n          this[targetProp][prop] = val;\n        }\n      });\n    });\n  }\n\n  function proxyRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function proxyMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return this[targetProp][prop].apply(this[targetProp], arguments);\n      };\n    });\n  }\n\n  function proxyCursorRequestMethods(ProxyClass, targetProp, Constructor, properties) {\n    properties.forEach(function(prop) {\n      if (!(prop in Constructor.prototype)) return;\n      ProxyClass.prototype[prop] = function() {\n        return promisifyCursorRequestCall(this[targetProp], prop, arguments);\n      };\n    });\n  }\n\n  function Index(index) {\n    this._index = index;\n  }\n\n  proxyProperties(Index, '_index', [\n    'name',\n    'keyPath',\n    'multiEntry',\n    'unique'\n  ]);\n\n  proxyRequestMethods(Index, '_index', IDBIndex, [\n    'get',\n    'getKey',\n    'getAll',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(Index, '_index', IDBIndex, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  function Cursor(cursor, request) {\n    this._cursor = cursor;\n    this._request = request;\n  }\n\n  proxyProperties(Cursor, '_cursor', [\n    'direction',\n    'key',\n    'primaryKey',\n    'value'\n  ]);\n\n  proxyRequestMethods(Cursor, '_cursor', IDBCursor, [\n    'update',\n    'delete'\n  ]);\n\n  // proxy 'next' methods\n  ['advance', 'continue', 'continuePrimaryKey'].forEach(function(methodName) {\n    if (!(methodName in IDBCursor.prototype)) return;\n    Cursor.prototype[methodName] = function() {\n      var cursor = this;\n      var args = arguments;\n      return Promise.resolve().then(function() {\n        cursor._cursor[methodName].apply(cursor._cursor, args);\n        return promisifyRequest(cursor._request).then(function(value) {\n          if (!value) return;\n          return new Cursor(value, cursor._request);\n        });\n      });\n    };\n  });\n\n  function ObjectStore(store) {\n    this._store = store;\n  }\n\n  ObjectStore.prototype.createIndex = function() {\n    return new Index(this._store.createIndex.apply(this._store, arguments));\n  };\n\n  ObjectStore.prototype.index = function() {\n    return new Index(this._store.index.apply(this._store, arguments));\n  };\n\n  proxyProperties(ObjectStore, '_store', [\n    'name',\n    'keyPath',\n    'indexNames',\n    'autoIncrement'\n  ]);\n\n  proxyRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'put',\n    'add',\n    'delete',\n    'clear',\n    'get',\n    'getAll',\n    'getKey',\n    'getAllKeys',\n    'count'\n  ]);\n\n  proxyCursorRequestMethods(ObjectStore, '_store', IDBObjectStore, [\n    'openCursor',\n    'openKeyCursor'\n  ]);\n\n  proxyMethods(ObjectStore, '_store', IDBObjectStore, [\n    'deleteIndex'\n  ]);\n\n  function Transaction(idbTransaction) {\n    this._tx = idbTransaction;\n    this.complete = new Promise(function(resolve, reject) {\n      idbTransaction.oncomplete = function() {\n        resolve();\n      };\n      idbTransaction.onerror = function() {\n        reject(idbTransaction.error);\n      };\n      idbTransaction.onabort = function() {\n        reject(idbTransaction.error);\n      };\n    });\n  }\n\n  Transaction.prototype.objectStore = function() {\n    return new ObjectStore(this._tx.objectStore.apply(this._tx, arguments));\n  };\n\n  proxyProperties(Transaction, '_tx', [\n    'objectStoreNames',\n    'mode'\n  ]);\n\n  proxyMethods(Transaction, '_tx', IDBTransaction, [\n    'abort'\n  ]);\n\n  function UpgradeDB(db, oldVersion, transaction) {\n    this._db = db;\n    this.oldVersion = oldVersion;\n    this.transaction = new Transaction(transaction);\n  }\n\n  UpgradeDB.prototype.createObjectStore = function() {\n    return new ObjectStore(this._db.createObjectStore.apply(this._db, arguments));\n  };\n\n  proxyProperties(UpgradeDB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(UpgradeDB, '_db', IDBDatabase, [\n    'deleteObjectStore',\n    'close'\n  ]);\n\n  function DB(db) {\n    this._db = db;\n  }\n\n  DB.prototype.transaction = function() {\n    return new Transaction(this._db.transaction.apply(this._db, arguments));\n  };\n\n  proxyProperties(DB, '_db', [\n    'name',\n    'version',\n    'objectStoreNames'\n  ]);\n\n  proxyMethods(DB, '_db', IDBDatabase, [\n    'close'\n  ]);\n\n  // Add cursor iterators\n  // TODO: remove this once browsers do the right thing with promises\n  ['openCursor', 'openKeyCursor'].forEach(function(funcName) {\n    [ObjectStore, Index].forEach(function(Constructor) {\n      Constructor.prototype[funcName.replace('open', 'iterate')] = function() {\n        var args = toArray(arguments);\n        var callback = args[args.length - 1];\n        var nativeObject = this._store || this._index;\n        var request = nativeObject[funcName].apply(nativeObject, args.slice(0, -1));\n        request.onsuccess = function() {\n          callback(request.result);\n        };\n      };\n    });\n  });\n\n  // polyfill getAll\n  [Index, ObjectStore].forEach(function(Constructor) {\n    if (Constructor.prototype.getAll) return;\n    Constructor.prototype.getAll = function(query, count) {\n      var instance = this;\n      var items = [];\n\n      return new Promise(function(resolve) {\n        instance.iterateCursor(query, function(cursor) {\n          if (!cursor) {\n            resolve(items);\n            return;\n          }\n          items.push(cursor.value);\n\n          if (count !== undefined && items.length == count) {\n            resolve(items);\n            return;\n          }\n          cursor.continue();\n        });\n      });\n    };\n  });\n\n  var exp = {\n    open: function(name, version, upgradeCallback) {\n      var p = promisifyRequestCall(indexedDB, 'open', [name, version]);\n      var request = p.request;\n\n      request.onupgradeneeded = function(event) {\n        if (upgradeCallback) {\n          upgradeCallback(new UpgradeDB(request.result, event.oldVersion, request.transaction));\n        }\n      };\n\n      return p.then(function(db) {\n        return new DB(db);\n      });\n    },\n    delete: function(name) {\n      return promisifyRequestCall(indexedDB, 'deleteDatabase', [name]);\n    }\n  };\n\n  if (typeof module !== 'undefined') {\n    module.exports = exp;\n    module.exports.default = module.exports;\n  }\n  else {\n    self.idb = exp;\n  }\n}());\n\n\n\n// WEBPACK FOOTER //\n// ../node_modules/idb/lib/idb.js","'use strict';\n\nvar _preact = require('preact');\n\nif (process.env.NODE_ENV === 'development') {\n\trequire('preact/devtools');\n} else if (process.env.ADD_SW && 'serviceWorker' in navigator && location.protocol === 'https:') {\n\tnavigator.serviceWorker.register(__webpack_public_path__ + 'sw.js');\n}\n\nconst interopDefault = m => m && m.default ? m.default : m;\n\nlet app = interopDefault(require('preact-cli-entrypoint'));\n\nif (typeof app === 'function') {\n\tlet root = document.body.firstElementChild;\n\n\tlet init = () => {\n\t\tlet app = interopDefault(require('preact-cli-entrypoint'));\n\t\troot = (0, _preact.render)((0, _preact.h)(app), document.body, root);\n\t};\n\n\tif (module.hot) module.hot.accept('preact-cli-entrypoint', init);\n\n\tinit();\n}\n\n\n// WEBPACK FOOTER //\n// ../node_modules/preact-cli/lib/lib/entry.js","// removed by extract-text-webpack-plugin\nmodule.exports = {\"header\":\"header__2MqSo\"};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./components/header/style.css\n// module id = u3et\n// module chunks = 0"],"sourceRoot":""}